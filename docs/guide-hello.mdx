---
id: guide-hello
title: å¼€å‘ç¬¬ä¸€ä¸ªæ’ä»¶
---

åœ¨ä¸Šä¸ªç« èŠ‚ï¼Œæˆ‘ä»¬å‡†å¤‡å¥½äº†å¼€å‘ç¯å¢ƒï¼Œè¿™ä¸€ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•å¼€å‘ç¬¬ä¸€ä¸ªæ’ä»¶ï¼šä¸€ä¸ªåœ¨è¯¦æƒ…é¡µä¸Šæ˜¾ç¤ºçš„æŒ‰é’®ï¼Œç‚¹å‡»æ­¤æŒ‰é’®ä¼šåœ¨å¼¹çª—ä¸­è¾“å‡º `Hello, World!` æ–‡æœ¬ã€‚

:::info ç¤ºä¾‹æºç 

æœ¬ç« èŠ‚çš„ç¤ºä¾‹ä»£ç å¯ä»¥åœ¨ [sinoform-plugins-web-component-examples/src/plugins/flow-button-hello](https://gitee.com/sinoui/sinoform-plugins-web-component-examples/tree/master/src/plugins/flow-button-hello) ä¸­æ‰¾åˆ°ã€‚

:::

é€šè¿‡æœ¬ç« èŠ‚çš„å­¦ä¹ ï¼Œæ‚¨å°†ä¼šæŒæ¡ï¼š

- åˆ›å»ºä¸€ä¸ªç®€å•çš„æŒ‰é’®æ’ä»¶
- æ³¨å†Œæ’ä»¶
- å¯åŠ¨æ’ä»¶é¡¹ç›®
- åœ¨æ™ºèƒ½è¡¨å•äº§å“ä¸­è°ƒè¯•æ’ä»¶
- ç»™æŒ‰é’®æ’ä»¶æ·»åŠ æ ·å¼
- æ‰“åŒ…éƒ¨ç½²æ’ä»¶é¡¹ç›®

## å¼€å‘ HelloButton æ’ä»¶

`HelloButton` æ˜¯ä¸€ä¸ªæµç¨‹æŒ‰é’®æ’ä»¶ï¼Œåœ¨ `src/plugins` ç›®å½•ä¸‹åˆ›å»º `flow-button-hello` æ–‡ä»¶å¤¹ï¼Œç„¶åæ–°å»º `index.ts` å’Œ `HelloButton.ts` æ–‡ä»¶ï¼Œæ–‡ä»¶ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š

```
src/plugins/flow-button-hello
  |__ index.ts
  |__ HelloButton.ts
```

:::info æµç¨‹æŒ‰é’®æ’ä»¶å‘½åçº¦å®š

åœ¨é¡¹ç›®ä¸­æ·»åŠ æµç¨‹æŒ‰é’®æ’ä»¶ï¼Œéœ€è¦åœ¨ `src/plugins` ç›®å½•ä¸‹åˆ›å»º `flow-button-[æ’ä»¶åç§°]` æ–‡ä»¶å¤¹ï¼Œå¦‚ä¸Šé¢çš„ `flow-button-hello`ã€‚

:::

ç„¶åæ‰“å¼€ `HelloButton.ts` æ–‡ä»¶ï¼Œæ·»åŠ ç»„ä»¶å®ç°çš„ä»£ç ï¼š

```typescript title="src/plugins/flow-button-hello/HelloButton.ts" {25}
import { SinoFormElement } from "@sinoform/plugin-sinoform-helpers";
import $ from "jquery";

/**
 * è¾“å‡º Hello World çš„ç¤ºä¾‹æŒ‰é’®
 */
export default class HelloButton extends SinoFormElement {
  /**
   * æŒ‰é’®ç‚¹å‡»äº‹ä»¶çš„å›è°ƒå‡½æ•°
   */
  onButtonClick() {
    alert("Hello, World!");
  }

  /**
   * æ¸²æŸ“ HelloButton ç»„ä»¶
   */
  override render() {
    // æ’å…¥ HTML å†…å®¹
    this.innerHTML = `
      <button class="hello-button">Hello World!</button>
    `;

    // ç»™æŸ¥æ‰¾åˆ°çš„æŒ‰é’®å…ƒç´ æ·»åŠ ç‚¹å‡»äº‹ä»¶
    $("button", this).on("click", this.onButtonClick.bind(this));
  }
}
```

ä¸Šé¢çš„ä»£ç åˆ›å»ºäº†ä¸€ä¸ªç»§æ‰¿è‡ª `SinoFormElement` ç±»çš„ `HelloButton` ç±»ï¼Œ æˆ‘ä»¬é‡å†™`render`æ–¹æ³•ï¼Œåœ¨å®ƒçš„å†…éƒ¨ç”Ÿæˆ HTMLï¼Œä»¥å±•ç°ä¸€ä¸ªæŒ‰é’®ã€‚å¹¶é€šè¿‡é«˜äº®éƒ¨åˆ†çš„ä»£ç ç»™å…¶å†…éƒ¨çš„æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬ï¼š

```typescript
$("button", this).on("click", this.onButtonClick.bind(this));
```

è¿™ä¸€è¡Œä»£ç æœ‰ä¸¤ä¸ªæ³¨æ„ç‚¹ï¼Œå³ï¼š

- `$("button", this)` ä¸­çš„ `this` ä¸èƒ½ä¸¢ï¼Œå¦åˆ™å¯èƒ½æ‰¾åˆ°çš„æŒ‰é’®å…ƒç´ å¯èƒ½æ˜¯ä¸æ­£ç¡®çš„ã€‚
- `this.onButtonClick.bind(this)` ä¸­çš„ `.bind(this)` ä¸èƒ½ä¸¢ï¼Œå¦åˆ™åœ¨ `onButtonClick` æ–¹æ³•ä¸­ä¸èƒ½æ­£ç¡®åœ°ä½¿ç”¨ `this`ã€‚

ç„¶åæˆ‘ä»¬éœ€è¦åœ¨ `index.ts` æ–‡ä»¶ä¸­æ·»åŠ ä»£ç å°† `HelloButton` æ³¨å†Œä¸ºè‡ªå®šä¹‰å…ƒç´ å’Œ React ç»„ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```typescript title="src/plugins/flow-button-hello/index.ts"
import { wrapperWebComponent } from "@sinoform/plugin-sinoform-helpers";
import HelloButton from "./HelloButton";

// å°† HelloButton åŒ…è£…ä¸º React ç»„ä»¶
// æ³¨æ„ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å…¨å±€å”¯ä¸€çš„è‡ªå®šä¹‰å…ƒç´ åç§°
const HelloButtonReactComponent = wrapperWebComponent(
  "hello-button",
  HelloButton
);

// é»˜è®¤å¯¼å‡º HelloButtonReactComponent
export default HelloButtonReactComponent;
```

## æ³¨å†Œ HelloButton æ’ä»¶

å¼€å‘å®Œ HelloButton æ’ä»¶åï¼Œæˆ‘ä»¬éœ€è¦åœ¨ `src/index.ts` æ–‡ä»¶ä¸­å°† `HelloButton` æ³¨å†Œä¸ºæ’ä»¶ï¼Œå‘ŠçŸ¥æ™ºèƒ½è¡¨å•æœ‰æ­¤æ’ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```typescript title="src/index.ts" {9}
import React from "react";
import AppSetting from "@sinoform/app-setting";

// æ³¨å†Œ hello-button æ’ä»¶ï¼ˆæµç¨‹æŒ‰é’®ï¼‰
AppSetting.flowConfig.addButton({
  id: "hello-button",
  name: "Hello World",
  // å¼•å…¥ HelloButton æ’ä»¶æœ¬ä½“
  render: React.lazy(() => import("./plugins/flow-button-hello")),
});
```

å…¶ä¸­ `id` ä¸€èˆ¬ä¸è‡ªå®šä¹‰å…ƒç´ åç§°ä¿æŒä¸€è‡´å³å¯ã€‚`name` æ˜¯æŒ‰é’®åœ¨é…ç½®é¡µé¢ä¸Šçš„æ˜¾ç¤ºæ ‡é¢˜ã€‚`render` å±æ€§æ˜¯é‡ç‚¹ï¼Œé‡‡ç”¨å¼‚æ­¥å¯¼å…¥çš„æ–¹å¼å¼•å…¥æŒ‰é’®ç»„ä»¶ï¼Œåœ¨éœ€è¦å±•ç°æ­¤æŒ‰é’®æ—¶ï¼Œä¼šè°ƒç”¨å¼•å…¥çš„ç»„ä»¶ä»£ç ï¼Œå®Œæˆæ¸²æŸ“ã€‚

## å¯åŠ¨æ’ä»¶é¡¹ç›®

å‡†å¤‡å¥½ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦å¯åŠ¨æ’ä»¶é¡¹ç›®ã€‚åœ¨ vscode ä¸­æ‰“å¼€å‘½ä»¤è¡Œæ§åˆ¶å°ï¼ˆå¿«æ·é”®ï¼šctrl + `ï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå³å¯å¯åŠ¨æ’ä»¶é¡¹ç›®ï¼š

```bash
yarn start
```

å¯åŠ¨æœ¬åœ°çš„æ’ä»¶é¡¹ç›®ä¹‹åï¼Œå°±å¯ä»¥ä¸æ™ºèƒ½è¡¨å•äº§å“é›†æˆåœ¨ä¸€èµ·è”è°ƒäº†ã€‚

## åœ¨æ™ºèƒ½è¡¨å•äº§å“ä¸­è°ƒè¯•æ’ä»¶

æœ¬å°èŠ‚ä»¥æ™ºèƒ½è¡¨å•å¤–ç½‘æ¼”ç¤ºç¯å¢ƒæ¥è¯´æ˜å¦‚ä½•åœ¨æ™ºèƒ½è¡¨å•äº§å“ä¸­è°ƒè¯•æ’ä»¶ã€‚

æ‰“å¼€[ç™»å½•é¡µ](http://121.30.232.162:18880/sso/)ï¼Œä½¿ç”¨è´¦å· `æ™ºèƒ½è¡¨å•ç®¡ç†å‘˜`ï¼ˆå¯†ç æ˜¯ï¼š`1qaz2wsx!`ï¼‰ ç™»å½•ç³»ç»Ÿï¼Œç„¶åé€‰æ‹©è¡¨å•è®¾è®¡å™¨ï¼Œè¿›å…¥æ™ºèƒ½è¡¨å•ç®¡ç†é¡µé¢ã€‚æ‰“å¼€æµè§ˆå™¨çš„æ§åˆ¶å°ï¼Œæ‰§è¡Œä»¥ä¸‹ JavaScript ä»£ç ï¼Œå°†æœ¬åœ°çš„æ’ä»¶é¡¹ç›®é›†æˆåˆ°æ™ºèƒ½è¡¨å•äº§å“ä¸­ï¼Œä»¥æŸ¥çœ‹æ’ä»¶æ•ˆæœï¼š

```javascript {6}
localStorage.setItem(
  "sinoform-preview-plugins",
  JSON.stringify([
    {
      url: "http://localhost:8090/extend.js",
      name: "qxjoaPlugins",
    },
  ])
);
```

ä¸€å®šè¦æ³¨æ„ï¼Œ`name` åç§°éœ€è¦ä¸æ’ä»¶é¡¹ç›®åç§°ä¿æŒä¸€è‡´ï¼ˆéœ€è¦å°†è¿å­—ç¬¦å½¢å¼çš„æ’ä»¶é¡¹ç›®åç§°è½¬åŒ–ä¸ºé¦–å­—æ¯å°å†™çš„é©¼å³°å¼åç§°ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œå®Œä¸Šé¢çš„ä»£ç åï¼Œåˆ·æ–°æ™ºèƒ½è¡¨å•é¡µé¢ï¼Œæ‰“å¼€ä»»æ„ä¸€ä¸ªè¡¨å•ï¼Œåˆ‡æ¢åˆ°æµç¨‹è®¾è®¡é¡µé¢ï¼Œé€‰æ‹©ä¸€ä¸ªå®¡æ‰¹èŠ‚ç‚¹ï¼Œå°±èƒ½çœ‹åˆ°å³ä¾§èŠ‚ç‚¹é…ç½®é¢æ¿ä¸­å°±ä¼šå¤šå‡ºä¸€ä¸ª `Hello World` æŒ‰é’®é€‰é¡¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![Hello World æŒ‰é’®é…ç½®å›¾](assets/hello-button-in-config-panel.png)

ç„¶åå›é€€åˆ°å¯¼èˆªä¸»é¡µï¼Œè¿›å…¥äº§å“ç¤ºä¾‹ï¼Œæ‰“å¼€ `æ¼”ç¤º hello-button` ä¸­çš„å¾…åŠåˆ—è¡¨é¡µé¢ï¼Œæ‰“å¼€å…¶ä¸­ä¸€ä¸ªå¾…åŠæ•°æ®ï¼Œä»è¯¦æƒ…é¡µä¸­å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ•ˆæœï¼š

![æ¼”ç¤ºhello-buttonçš„å¾…åŠåˆ—è¡¨é¡µ](assets/hello-button-todo-list.png)

![åœ¨è¯¦æƒ…é¡µä¸­å±•ç¤ºHelloButton](assets/hello-button-in-detail-page.png)

è¿™è¯´æ˜å’±ä»¬æ·»åŠ  Hello æŒ‰é’®æ’ä»¶æˆåŠŸäº†ï¼ç‚¹å‡»ä¸€ä¸‹ Hello æŒ‰é’®ï¼Œå®ƒä¼šå¼¹å‡º `Hello, World!` æ–‡æœ¬ã€‚

æˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­é€šè¿‡æ–­ç‚¹æ¥è°ƒè¯•æ’ä»¶ä»£ç ã€‚æŒ‰ä¸‹ `F12`ï¼Œæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œåœ¨æºç é¢æ¿ä¸­æ‰¾åˆ° `HelloButton.ts` æ–‡ä»¶ï¼ˆé€šè¿‡å¿«æ·é”® Ctrl + Pï¼Œå¯ä»¥å¿«é€ŸæŸ¥æ‰¾æºç æ–‡ä»¶ï¼‰ï¼Œå¹¶åœ¨æ­¤æ–‡ä»¶ä¸­è®¾ç½®ä»£ç æ–­ç‚¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![è°ƒè¯•HelloButton](assets/debug-hello-button.png)

## ç»™æŒ‰é’®æ’ä»¶æ·»åŠ æ ·å¼

åŸç”Ÿçš„æŒ‰é’®å…ƒç´ å¤ªç´ äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®ƒæ·»åŠ ç‚¹æ ·å¼æ¥ç¾åŒ–å®ƒã€‚

é¦–å…ˆæˆ‘ä»¬åœ¨ `src/plugins/flow-button-hello` ä¸­åˆ›å»ºä¸€ä¸ª `HelloButton.css` æ–‡ä»¶ï¼Œå®šä¹‰å¦‚ä¸‹çš„æŒ‰é’®æ ·å¼ï¼š

```css title="src/plugins/flow-button-hello/HelloButton.css"
.hello-button {
  display: inline-flex;
  -webkit-box-align: center;
  align-items: center;
  -webkit-box-pack: center;
  justify-content: center;
  position: relative;
  -webkit-tap-highlight-color: transparent;
  outline: 0px;
  border: 0px;
  vertical-align: middle;
  appearance: none;
  color: inherit;
  text-decoration: none;
  cursor: pointer;
  user-select: none;
  box-shadow: rgb(0 0 0 / 20%) 0px 2px 4px -1px, rgb(0 0 0 / 14%) 0px 4px 5px 0px,
    rgb(0 0 0 / 12%) 0px 1px 10px 0px;
  margin: 8px;
  font-weight: 500;
  font-size: 0.875rem;
  line-height: 1.75;
  letter-spacing: 0.02857em;
  text-transform: uppercase;
  min-width: 64px;
  height: 36px;
  box-sizing: border-box;
  padding: 0px 16px;
  color: rgb(255, 255, 255);
  background-color: rgb(33, 150, 243);
  border-radius: 4px;
  transition: box-shadow 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
}
```

> æ‘˜è‡ª @sinoui/core/Button ç»„ä»¶ä¸­çš„æ ·å¼ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ‚¨å–œæ¬¢çš„æ ·å¼ä»£ç æ¥ç¾åŒ–æŒ‰é’®ã€‚

ç„¶åè°ƒæ•´ `HelloButton.ts` ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```diff
+ import './HelloButton.css';


class HelloButton extends SinoFormElement {
  override render() {
    // æ’å…¥ HTML å†…å®¹
    this.innerHTML = `
-      <button>Hello World!</button>
+      <button class="hello-button">Hello World!</button>
    `;

  }
}
```

å®Œæ•´çš„ `HelloButton.ts` ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š

```typescript title="src/plugins/flow-button-hello/HelloButton.ts" {2,22}
import $ from "jquery";
import { SinoFormElement } from "@sinoform/plugin-sinoform-helpers";
import "./HelloButton.css";

/**
 * è¾“å‡º Hello World çš„ç¤ºä¾‹æŒ‰é’®
 */
export default class HelloButton extends SinoFormElement {
  /**
   * æŒ‰é’®ç‚¹å‡»äº‹ä»¶çš„å›è°ƒå‡½æ•°
   */
  onButtonClick() {
    alert("Hello, World!");
  }

  /**
   * æ¸²æŸ“ HelloButton ç»„ä»¶
   */
  override render() {
    // æ’å…¥ HTML å†…å®¹
    this.innerHTML = `
      <button class="hello-button">Hello World!</button>
    `;

    // ç»™æŸ¥æ‰¾åˆ°çš„æŒ‰é’®å…ƒç´ æ·»åŠ ç‚¹å‡»äº‹ä»¶
    $("button", this).on("click", this.onButtonClick.bind(this));
  }
}
```

åˆ·ä¸‹ä¸€ä¸‹æ™ºèƒ½è¡¨å•å¾…åŠè¯¦æƒ…é¡µï¼Œè§‚å¯ŸæŒ‰é’®çš„æ ·å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![ç¾åŒ–åçš„Hello Button](assets/beautiful-hello-button.png)

## æ‰“åŒ…éƒ¨ç½²æ’ä»¶é¡¹ç›®

å¦‚æœæ‚¨åšæŒåˆ°è¿™é‡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬ç¦»æˆåŠŸåªå·®æœ€åä¸€æ­¥äº†ï¼Œå°†æ’ä»¶å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒç»™æœ€ç»ˆç”¨æˆ·ä½¿ç”¨ã€‚

é¦–å…ˆæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ‰“åŒ…æ’ä»¶é¡¹ç›®ï¼š

```bash
yarn build
```

ç„¶åå°† `build` ç›®å½•ä¸‹çš„æ‰“åŒ…æ–‡ä»¶ä¸Šä¼ åˆ° Nginx çš„ `qxjoa-plugins` ç›®å½•ä¸‹ï¼ˆå¦‚ï¼š `/apps/sino-intellisense-form/frontend/qxjoa-plugins`ï¼‰ã€‚åœ¨ Nginx é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```nginx title="nginx.conf"
# æ™ºèƒ½è¡¨å•æ’ä»¶é…ç½®
location /qxjoa-plugins/ {
  index index.html index.htm;
  try_files $uri $uri/ /qxjoa-plugins/index.html;
  add_header Cache-Control no-store;
}

# é…ç½®æ’ä»¶å…¥å£æ–‡ä»¶ä¸åšç¼“å­˜
location ~ .\*/extend.js$ {
  add_header Cache-Control no-store;
}
```

é‡æ–°åŠ è½½ä¸€ä¸‹ nginxï¼š

```bash
nginx -s reload
```

ç„¶åæ‰“å¼€æ™ºèƒ½è¡¨å•ç®¡ç†é¡µå³ä¸Šè§’æ›´å¤šä¸­çš„â€œæ’ä»¶ç»´æŠ¤â€æŒ‰é’®ï¼Œæ‰“å¼€æ’ä»¶ç»´æŠ¤é¡µé¢ï¼Œæ·»åŠ ä¸Šé¢çš„æ’ä»¶ï¼ˆå¦‚æœæ·»åŠ è¿‡æ­¤æ’ä»¶ï¼Œåˆ™å¯ä»¥è·³è¿‡æ­¤æ­¥éª¤ï¼‰ï¼š

![æ–°å¢æ’ä»¶](assets/add-plugin.png)

> ç‰¹åˆ«æ³¨æ„ï¼šéœ€è¦æ­£ç¡®é…ç½® `æ’ä»¶url`ã€‚ç¤ºä¾‹ä¸­ä½¿ç”¨çš„æ˜¯æœ¬æœºåœ°å€ï¼Œå®é™…é¡¹ç›®ä¸­éœ€è¦é…ç½®ç”¨æˆ·æµè§ˆå™¨ç»ˆç«¯èƒ½å¤Ÿè®¿é—®åˆ°çš„åœ°å€ã€‚

è¿™æ ·å°±å®Œæˆäº†æ’ä»¶é¡¹ç›®çš„éƒ¨ç½²ã€‚

:::info æ¸©é¦¨æç¤º

å¦‚æœæ‚¨éƒ¨ç½²æ’ä»¶å’Œè°ƒè¯•æ’ä»¶çš„æ™ºèƒ½è¡¨å•é¡¹ç›®æ˜¯åŒä¸€ä¸ªï¼Œæ‚¨éœ€è¦åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œæ‰èƒ½éªŒè¯éƒ¨ç½²åçš„æ’ä»¶ï¼š

```javascript
localStorage.removeItem("sinoform-preview-plugins");
```

:::

## æ€»ç»“

ğŸ‰ğŸ‰ğŸ‰ æ­å–œæ‚¨ï¼Œå¼€å‘å¥½äº†ç¬¬ä¸€ä¸ªæ™ºèƒ½è¡¨å•æ’ä»¶ã€‚

é€šè¿‡æ­¤ç« èŠ‚çš„ä»£ç ï¼Œæ‚¨è¾ƒä¸ºå…¨é¢çš„æŒæ¡äº†å¼€å‘ä¸€ä¸ªæ™ºèƒ½è¡¨å•æ’ä»¶çš„æµç¨‹ã€‚æ¥ä¸‹æ¥çš„æ•™ç¨‹ä¼šè®²è§£æ›´å¤šæ’ä»¶å¼€å‘çš„æŠ€èƒ½ï¼Œè¯·æ‚¨ç»§ç»­ä¸‹ä¸ªç« èŠ‚ã€‚
