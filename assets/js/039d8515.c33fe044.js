"use strict";(self.webpackChunkintellisense_form_docs=self.webpackChunkintellisense_form_docs||[]).push([[427],{3905:function(e,t,n){n.d(t,{Zo:function(){return i},kt:function(){return d}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},i=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,c=e.parentName,i=u(e,["components","mdxType","originalType","parentName"]),m=s(n),d=r,h=m["".concat(c,".").concat(d)]||m[d]||p[d]||l;return n?a.createElement(h,o(o({ref:t},i),{},{components:n})):a.createElement(h,o({ref:t},i))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=m;var u={};for(var c in t)hasOwnProperty.call(t,c)&&(u[c]=t[c]);u.originalType=e,u.mdxType="string"==typeof e?e:r,o[1]=u;for(var s=2;s<l;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},98448:function(e,t,n){var a=n(67294);t.Z=function(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},97225:function(e,t,n){n.d(t,{Z:function(){return m}});var a=n(87462),r=n(67294),l=n(51048),o=n(22713);var u=function(){var e=(0,r.useContext)(o.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},c=n(35242),s=n(86010),i="tabItem_1uMI";function p(e){var t,n,l,o=e.lazy,p=e.block,m=e.defaultValue,d=e.values,h=e.groupId,k=e.className,g=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=d?d:g.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),b=(0,c.lx)(v,(function(e,t){return e.value===t.value}));if(b.length>0)throw new Error('Docusaurus error: Duplicate values "'+b.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var f=null===m?m:null!=(t=null!=m?m:null==(n=g.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(l=g[0])?void 0:l.props.value;if(null!==f&&!v.some((function(e){return e.value===f})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+f+'" but none of its children has the corresponding value. Available values are: '+v.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var N=u(),y=N.tabGroupChoices,C=N.setTabGroupChoices,E=(0,r.useState)(f),w=E[0],x=E[1],T=[],O=(0,c.o5)().blockElementScrollPositionUntilNextRender;if(null!=h){var _=y[h];null!=_&&_!==w&&v.some((function(e){return e.value===_}))&&x(_)}var A=function(e){var t=e.currentTarget,n=T.indexOf(t),a=v[n].value;a!==w&&(O(t),x(a),null!=h&&C(h,a))},B=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=T.indexOf(e.currentTarget)+1;n=T[a]||T[0];break;case"ArrowLeft":var r=T.indexOf(e.currentTarget)-1;n=T[r]||T[T.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":p},k)},v.map((function(e){var t=e.value,n=e.label,l=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:function(e){return T.push(e)},onKeyDown:B,onFocus:A,onClick:A},l,{className:(0,s.Z)("tabs__item",i,null==l?void 0:l.className,{"tabs__item--active":w===t})}),null!=n?n:t)}))),o?(0,r.cloneElement)(g.filter((function(e){return e.props.value===w}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},g.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==w})}))))}function m(e){var t=(0,l.Z)();return r.createElement(p,(0,a.Z)({key:String(t)},e))}},35682:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return i},metadata:function(){return p},toc:function(){return m},default:function(){return h}});var a=n(87462),r=n(63366),l=(n(67294),n(3905)),o=n(97225),u=n(98448),c=["components"],s={id:"deployment-chrome",title:"安装 chrome"},i=void 0,p={unversionedId:"deployment-chrome",id:"deployment-chrome",title:"安装 chrome",description:"本文介绍如何在 Linux 服务器上安装 Chrome。Windows 操作系统自带的 edge 可以充当 chrome 浏览器，所以不需要单独安装 chrome。",source:"@site/docs/deployment-chrome.md",sourceDirName:".",slug:"/deployment-chrome",permalink:"/intellisense-form-website/docs/deployment-chrome",tags:[],version:"current",frontMatter:{id:"deployment-chrome",title:"安装 chrome"},sidebar:"someSidebar",previous:{title:"安装 nodejs",permalink:"/intellisense-form-website/docs/deployment-nodejs"},next:{title:"部署 mongodb",permalink:"/intellisense-form-website/docs/dep-k8s/mongo-k8s"}},m=[{value:"一、在 Ubuntu 中安装 Chrome（在线安装）",id:"一在-ubuntu-中安装-chrome在线安装",children:[{value:"1.1. 使用国内 apt 镜像源",id:"11-使用国内-apt-镜像源",children:[],level:3},{value:"1.2. 安装依赖",id:"12-安装依赖",children:[],level:3},{value:"1.3. 下载 Chrome 安装包",id:"13-下载-chrome-安装包",children:[],level:3},{value:"1.4. 安装 Chrome",id:"14-安装-chrome",children:[],level:3},{value:"1.5. 验证 Chrome",id:"15-验证-chrome",children:[],level:3}],level:2},{value:"二、在 centos 中安装 Chrome（在线安装）",id:"二在-centos-中安装-chrome在线安装",children:[{value:"2.1. 使用国内 yum 镜像源",id:"21-使用国内-yum-镜像源",children:[],level:3},{value:"2.2. 下载 Chrome",id:"22-下载-chrome",children:[],level:3},{value:"2.3. 安装 Chrome",id:"23-安装-chrome",children:[],level:3},{value:"2.4. 验证 Chrome",id:"24-验证-chrome",children:[],level:3}],level:2},{value:"三、Ubuntu 离线安装 Chrome",id:"三ubuntu-离线安装-chrome",children:[{value:"3.1. 制作 apt-get 离线源",id:"31-制作-apt-get-离线源",children:[],level:3},{value:"3.2. 在内网环境中使用离线源",id:"32-在内网环境中使用离线源",children:[],level:3},{value:"3.3. 安装 Chrome",id:"33-安装-chrome",children:[],level:3}],level:2},{value:"四、centos 离线安装 Chrome",id:"四centos-离线安装-chrome",children:[{value:"4.1. 制作 yum 离线源",id:"41-制作-yum-离线源",children:[],level:3},{value:"4.2. 在内网环境中使用离线源",id:"42-在内网环境中使用离线源",children:[],level:3},{value:"4.3. 安装 Chrome",id:"43-安装-chrome",children:[],level:3}],level:2}],d={toc:m};function h(e){var t=e.components,n=(0,r.Z)(e,c);return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"本文介绍如何在 Linux 服务器上安装 Chrome。Windows 操作系统自带的 edge 可以充当 chrome 浏览器，所以不需要单独安装 chrome。"),(0,l.kt)("h2",{id:"一在-ubuntu-中安装-chrome在线安装"},"一、在 Ubuntu 中安装 Chrome（在线安装）"),(0,l.kt)("h3",{id:"11-使用国内-apt-镜像源"},"1.1. 使用国内 apt 镜像源"),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"提示")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"如果服务器已经采用了国内 apt 镜像源，那么可以跳过此步骤。"))),(0,l.kt)("p",null,"首先备份一下 apt 镜像源配置文件，以防出错，然后删除 sources.list："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak\nrm /etc/apt/sources.list\n")),(0,l.kt)("p",null,"然后使用 vim、vi 或者其他编辑器打开 /etc/apt/sources.list 文件，加入如下的内容："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal universe\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates universe\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal multiverse\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates multiverse\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security universe\ndeb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security multiverse\n")),(0,l.kt)("p",null,"刷新软件源信息："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt update\n")),(0,l.kt)("h3",{id:"12-安装依赖"},"1.2. 安装依赖"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install libxss1 libappindicator1 libindicator7\n")),(0,l.kt)("h3",{id:"13-下载-chrome-安装包"},"1.3. 下载 Chrome 安装包"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\n")),(0,l.kt)("h3",{id:"14-安装-chrome"},"1.4. 安装 Chrome"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dpkg -i google-chrome*.deb\nsudo apt-get install -f\n")),(0,l.kt)("h3",{id:"15-验证-chrome"},"1.5. 验证 Chrome"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$ google-chrome-stable --version\nGoogle Chrome 96.0.4664.110\n")),(0,l.kt)("h2",{id:"二在-centos-中安装-chrome在线安装"},"二、在 centos 中安装 Chrome（在线安装）"),(0,l.kt)("h3",{id:"21-使用国内-yum-镜像源"},"2.1. 使用国内 yum 镜像源"),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"提示")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"如果服务器已经采用了国内 yum 镜像源，那么可以跳过此步骤。"))),(0,l.kt)("p",null,"首先备份一下 yum 镜像源配置文件，以防出错："),(0,l.kt)(o.Z,{defaultValue:"centos-7",groupId:"centos",values:[{label:"centos 7",value:"centos-7"},{label:"centos 8",value:"centos-8"}],mdxType:"Tabs"},(0,l.kt)(u.Z,{value:"centos-7",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cp -a /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak\n"))),(0,l.kt)(u.Z,{value:"centos-8",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd /etc/yum.repos.d/\nmkdir repo_bak/\nmv *.repo repo_bak/\n")))),(0,l.kt)("p",null,"然后使用国内镜像："),(0,l.kt)(o.Z,{defaultValue:"centos-7",groupId:"centos",values:[{label:"centos 7",value:"centos-7"},{label:"centos 8",value:"centos-8"}],mdxType:"Tabs"},(0,l.kt)(u.Z,{value:"centos-7",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"wget -O /etc/yum.repos.d/CentOS-Base.repo https://repo.huaweicloud.com/repository/conf/CentOS-7-reg.repo\n"))),(0,l.kt)(u.Z,{value:"centos-8",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/centos-8.repo\n")))),(0,l.kt)("p",null,"更新 yum："),(0,l.kt)(o.Z,{defaultValue:"centos-7",groupId:"centos",values:[{label:"centos 7",value:"centos-7"},{label:"centos 8",value:"centos-8"}],mdxType:"Tabs"},(0,l.kt)(u.Z,{value:"centos-7",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"yum clean all\nyum makecache\n"))),(0,l.kt)(u.Z,{value:"centos-8",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"dnf -y install epel-release\ndnf clean all\ndnf makecache\ndnf repolist\n")))),(0,l.kt)("h3",{id:"22-下载-chrome"},"2.2. 下载 Chrome"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm\n")),(0,l.kt)("h3",{id:"23-安装-chrome"},"2.3. 安装 Chrome"),(0,l.kt)(o.Z,{defaultValue:"centos-7",groupId:"centos",values:[{label:"centos 7",value:"centos-7"},{label:"centos 8",value:"centos-8"}],mdxType:"Tabs"},(0,l.kt)(u.Z,{value:"centos-7",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"yum install -y google-chrome-stable_current_x86_64.rpm\nyum update glib2 -y\n"))),(0,l.kt)(u.Z,{value:"centos-8",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dnf localinstall google-chrome-stable_current_x86_64.rpm\n")))),(0,l.kt)("h3",{id:"24-验证-chrome"},"2.4. 验证 Chrome"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$ google-chrome --version\nGoogle Chrome 96.0.4664.110\n")),(0,l.kt)("h2",{id:"三ubuntu-离线安装-chrome"},"三、Ubuntu 离线安装 Chrome"),(0,l.kt)("p",null,"需要先",(0,l.kt)("a",{parentName:"p",href:"#%E4%B8%80%E3%80%81%E5%9C%A8-ubuntu-%E4%B8%AD%E5%AE%89%E8%A3%85-chrome%EF%BC%88%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85%EF%BC%89"},"在外网环境安装好 Chrome"),"，然后制作 ",(0,l.kt)("inlineCode",{parentName:"p"},"apt-get")," 离线源，在内网环境中就可以通过相同的步骤安装 Chrome。"),(0,l.kt)("h3",{id:"31-制作-apt-get-离线源"},"3.1. 制作 apt-get 离线源"),(0,l.kt)("p",null,"首先，找一台可以访问互联网的 Ubuntu 服务器，按照",(0,l.kt)("a",{parentName:"p",href:"#%E4%B8%80%E3%80%81%E5%9C%A8-ubuntu-%E4%B8%AD%E5%AE%89%E8%A3%85-chrome%EF%BC%88%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85%EF%BC%89"},"在 Ubuntu 中安装 Chrome（在线安装）"),"教程，安装好 Chrome 浏览器，然后在此机器上制作 apt-get 离线源。"),(0,l.kt)("p",null,"首先，需要将 ubuntu 官方源加入到 ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/apt/sources.list")," 中："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"deb http://archive.ubuntu.com/ubuntu hirsute main restricted\ndeb http://archive.ubuntu.com/ubuntu hirsute-updates main restricted\ndeb http://archive.ubuntu.com/ubuntu hirsute universe\ndeb http://archive.ubuntu.com/ubuntu hirsute-updates universe\ndeb http://archive.ubuntu.com/ubuntu hirsute multiverse\ndeb http://archive.ubuntu.com/ubuntu hirsute-updates multiverse\ndeb http://archive.ubuntu.com/ubuntu hirsute-backports main restricted universe multiverse\ndeb http://archive.ubuntu.com/ubuntu hirsute-security main restricted\ndeb http://archive.ubuntu.com/ubuntu hirsute-security universe\ndeb http://archive.ubuntu.com/ubuntu hirsute-security multiverse\n")),(0,l.kt)("p",null,"然后执行 apt 更新操作："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"apt update\n")),(0,l.kt)("p",null,"拷贝 apt 缓存的安装包到指定目录（这里假设为 ",(0,l.kt)("inlineCode",{parentName:"p"},"/root/offline-packages"),"，可以自定义。注意此目录非常重要，在内网环境中使用离线包时，目录要保持一致）："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bahs"},"mkdir /root/offline-packages\ncp -r /var/cache/apt/archives /root/offline-packages\nchmod 777 -R /root/offline-packages\n")),(0,l.kt)("p",null,"然后制作软件包的依赖关系："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"apt-get install dpkg-dev\ncd /root/offline-packages\ndpkg-scanpackages ./archives /dev/null > archives/Packages\n")),(0,l.kt)("p",null,"然后将 ",(0,l.kt)("inlineCode",{parentName:"p"},"/root/offline-packages")," 制作成压缩包："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd /root\ntar -czvf /root/offline-packages.tar.gz offline-packages\n")),(0,l.kt)("p",null,"将离线包 ",(0,l.kt)("inlineCode",{parentName:"p"},"offline-packages.tar.gz")," 和 ",(0,l.kt)("inlineCode",{parentName:"p"},"google-chrome-stable_current_amd64.deb")," 两个文件拷贝到 U 盘中，复制到内网环境服务器的 ",(0,l.kt)("inlineCode",{parentName:"p"},"/root")," 目录中。"),(0,l.kt)("h3",{id:"32-在内网环境中使用离线源"},"3.2. 在内网环境中使用离线源"),(0,l.kt)("p",null,"解压缩 ",(0,l.kt)("inlineCode",{parentName:"p"},"offline-packages.tar.gz"),"："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd /root\ntar -zxvf offline-packages.tar.gz\n")),(0,l.kt)("p",null,"替换离线 apt 源配置："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak\necho "deb file:///root/offline-packages archives/" > /etc/apt/sources.list\napt-get update --allow-insecure-repositories\n')),(0,l.kt)("h3",{id:"33-安装-chrome"},"3.3. 安装 Chrome"),(0,l.kt)("p",null,"安装 Chrome："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install libxss1 libappindicator1 libindicator7\ndpkg -i google-chrome*.deb\napt-get --fix-broken install\n")),(0,l.kt)("p",null,"然后验证 Chrome 是否安装成功："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$ google-chrome-stable --version\nGoogle Chrome 96.0.4664.110\n")),(0,l.kt)("h2",{id:"四centos-离线安装-chrome"},"四、centos 离线安装 Chrome"),(0,l.kt)("p",null,"需要",(0,l.kt)("a",{parentName:"p",href:"#%E4%BA%8C%E3%80%81%E5%9C%A8-centos-%E4%B8%AD%E5%AE%89%E8%A3%85-chrome%EF%BC%88%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85%EF%BC%89"},"在外网环境安装好 Chrome"),"，然后制作 ",(0,l.kt)("inlineCode",{parentName:"p"},"yum")," 离线源，在内网环境中就可以通过相同的步骤安装 Chrome。"),(0,l.kt)("h3",{id:"41-制作-yum-离线源"},"4.1. 制作 yum 离线源"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Chrome 的依赖包比较多，手动查找依赖包太麻烦，推荐使用",(0,l.kt)("inlineCode",{parentName:"li"},"downloadonly"),"对依赖包进行管理。")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"# 安装downloadonly\nyum install yum-plugin-downloadonly\n\n# 创建空文件夹做为Chrome的依赖包存放路径\nmkdir -p /root/offline-packages\n\n# 下载Chrome的依赖\nyum install --downloadonly --downloaddir=/root/offline-packages  google-chrome-stable_current_x86_64.rpm\n\n# 如果服务器上没有安装wget，需要添加wget离线包\nyum install --downloadonly --downloaddir=/root/offline-packages  wget\n\n# 将Chrome的安装包添加到文件中\nmv google-chrome-stable_current_x86_64.rpm /root/offline-packages\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"将",(0,l.kt)("inlineCode",{parentName:"li"},"/root/offline-packages"),"制作成压缩包")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd /root\ntar -czvf /root/offline-packages.tar.gz offline-packages\n")),(0,l.kt)("p",null,"将离线包 offline-packages.tar.gz 拷贝到 U 盘中，复制到内网环境服务器的 /root 目录中"),(0,l.kt)("h3",{id:"42-在内网环境中使用离线源"},"4.2. 在内网环境中使用离线源"),(0,l.kt)("p",null,"解压缩 ",(0,l.kt)("inlineCode",{parentName:"p"},"offline-packages.tar.gz"),"："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd /root\ntar -zxvf offline-packages.tar.gz\n")),(0,l.kt)("h3",{id:"43-安装-chrome"},"4.3. 安装 Chrome"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"解压缩 ",(0,l.kt)("inlineCode",{parentName:"li"},"offline-packages.tar.gz"),"：")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd /root\ntar -zxvf offline-packages.tar.gz\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"执行下面命令进行离线安装。")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"cd /root/offline-packages\nsudo rpm -ivh --force *.rpm\n")),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"脚本执行完成之后验证。")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"$ google-chrome --version\nGoogle Chrome 96.0.4664.110\n")))}h.isMDXComponent=!0}}]);