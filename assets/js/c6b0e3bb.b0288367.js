"use strict";(self.webpackChunkintellisense_form_docs=self.webpackChunkintellisense_form_docs||[]).push([[3521],{89407:function(e,n,t){t.d(n,{jT:function(){return r},Fx:function(){return a},Xc:function(){return i},wq:function(){return l},Pm:function(){return o}});var r=[{imgUrl:"/img/home/feat-drag.png",title:"拖拽制作表单",content:"通过简单的拖拽，就能够制作各式各样的业务表单。"},{imgUrl:"/img/home/feat-flow.png",title:"流程设计",content:"在线设计业务流程，可视化的方式梳理并展现企业核心业务的流程。"},{imgUrl:"/img/home/feat-code.png",title:"无代码编程",content:"制作一款应用，不需要编写一行代码。将应用制作的能力交给客户自己。"},{imgUrl:"/img/home/feat-data.png",title:"数据可视化分析",content:"在线定制仪表盘，以图表的方式展现应用数据，辅助您的业务分析与决策。"},{imgUrl:"/img/home/feat-plugin.png",title:"插件",content:"智能表单独有的插件机制，通过各种各样的插件，可以与其他产品组合使用，如wps、书生排版、盖章、手写签名。"},{imgUrl:"/img/home/feat-api.png",title:"开放API",content:"智能表单开放大量API，与企业内部现有系统均可继承使用。"},{imgUrl:"/img/home/feat-theme.png",title:"主题定制",content:"智能表单内置多套主题，并可以根据用户风格定制主题，让您告别五花八门的UI体验。"},{imgUrl:"/img/home/feat-mobile.png",title:"移动优先",content:"智能表单发布的应用支持PC、Pad和手机三端使用。一次设计，三端使用。"},{imgUrl:"/img/home/feat-cloud.png",title:"云支持",content:"智能表单采用的是云原生微服务架构研发的，即可裸机部署，又可以在Kubernetes云上部署。"},{imgUrl:"/img/home/feat-gch.png",title:"国产化适配",content:"智能表单支持在国产化浏览器中使用，并可在国产化操作系统中部署。"},{imgUrl:"/img/home/feat-gxn.png",title:"高性能",content:"智能表单能够支撑单应用100万数据的快速响应。通过定制的专业服务，能达到单应用1000+万数据的快速响应。"},{imgUrl:"/img/home/feat-template.png",title:"应用模板",content:"智能表单包含大量应用模板，您可以快速开始一个相似应用的搭建。"}],a="LTAI5t9P53pvZFxKehSQ6WKA",i="PvPMsVvMU6qgr6LYh4SqKP0cqn2MUy",l="oss-cn-beijing",o="sino-intellisense-form"},53565:function(e,n,t){var r=t(67294),a=t(21764);n.Z=function(e){var n=e.children,t=e.type,i=e.isAlpha,l=(0,a.Z)(t,i);return r.createElement("a",{href:null==l?void 0:l.url},n,l?"(v"+l.version+")":"")}},1778:function(e,n,t){var r=t(67294),a=t(77446),i=t(21764);n.Z=function(e){var n,t,l,o,s,u,c=e.type,p=(0,i.Z)(c),m="frontend"===c?("\n        # 下载智能表单前端发布包\n        wget "+(null!=(n=null==p?void 0:p.url)?n:"")+"\n        # 解压缩智能表单前端发布包\n        unzip "+(null!=(t=null==p?void 0:p.name)?t:"")+" -d /apps/sino-intellisense-form/frontend\n        ").trim().replace(/^ +/gm,""):"font"===c?("\n        # 下载智能表单字体服务包\n        wget "+(null!=(l=null==p?void 0:p.url)?l:"")+"\n        # 解压缩智能表单字体服务包\n        unzip "+(null!=(o=null==p?void 0:p.name)?o:"")+" -d /apps/sino-intellisense-form\n        # 解压后node_modules中的文件只有读写权限，需要提升文件的执行权限\n        cd /apps/sino-intellisense-form/dynamic-font-server && chmod -R 777 node_modules\n        ").trim().replace(/^ +/gm,""):("\n        # 下载智能表单后端发布包\n        wget "+(null!=(s=null==p?void 0:p.url)?s:"")+"\n        # 将发布包移入 backend 目录中\n        mv "+(null!=(u=null==p?void 0:p.name)?u:"")+" /apps/sino-intellisense-form/backend\n        ").trim().replace(/^ +/gm,"");return r.createElement(a.Z,{className:"language-bash"},m)}},40641:function(e,n,t){var r=t(67294),a=t(21764);n.Z=function(e){var n=e.children,t=e.isAlpha,i=(0,a.Z)("font",t);return i?r.createElement(r.Fragment,null,"字体服务包：",r.createElement("a",{href:null==i?void 0:i.url},n,i?"(v"+i.version+")":"")):null}},49788:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(74165),a=t(15861),i=t(81249),l=t(15650);function o(e){return(e.name.endsWith(".zip")||e.name.endsWith(".tar.gz"))&&-1===e.name.indexOf("dynamic-font-server")}function s(e){return e.name.endsWith(".jar")}function u(e){return-1!==e.name.indexOf("dynamic-font-server")}function c(e){var n=e[0];if(null==n)return n;var t=n.version;return e.forEach((function(e){var r=e.version;-1===(0,i.compare)(t,r)&&(n=e,t=r)})),n}function p(e){return c(e.filter((function(e){return e.isAlpha})))}function m(e){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a,m,d,f,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,(0,l.Z)();case 3:return t=e.sent,a=t.filter((function(e){var n=e.version;return!!n&&(0,i.valid)(n)})).filter((function(e){return n||!e.isAlpha})),d=(m=function(e){var t,r=a.filter(e);return n&&null!=(t=p(r))?t:c(r)})(o),f=m(s),h=m(u),e.abrupt("return",{backend:f,frontend:d,font:h});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},15650:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(74165),a=t(15861),i=t(81249),l=t(89407);var o=function(e){var n={};return function(){var t,r=null!=(t=arguments.length<=0?void 0:arguments[0])?t:"$$$",a=n[r];if(a)return a;var i=e.apply(void 0,arguments);return n[r]=i,i.catch((function(e){throw delete n[r],e})),setTimeout((function(){delete n[r]}),3e5),i}},s=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(6448).then(t.t.bind(t,56448,23));case 2:return n=e.sent,a=n.default,e.abrupt("return",new a({region:l.wq,accessKeyId:l.Fx,accessKeySecret:l.Xc,bucket:l.Pm}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(e){return e.name.split("/")[0].substring(1)},c=function(e){return e.name.split("/")[1]},p="undefined"!=typeof window,m=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,s();case 4:return n=e.sent,e.next=7,n.list({"max-keys":1e3},{});case 7:return t=e.sent,a=t.objects,e.abrupt("return",a.map((function(e){return{version:u(e),name:c(e),url:e.url,isAlpha:null!=(0,i.prerelease)(u(e))}})).filter((function(e){return(0,i.valid)(e.version)})));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=o(m)},21764:function(e,n,t){var r=t(74165),a=t(15861),i=t(67294),l=t(49788);n.Z=function(e,n){var t=(0,i.useState)(),o=t[0],s=t[1];return(0,i.useEffect)((function(){var t=!1,i=function(){var i=(0,a.Z)((0,r.Z)().mark((function a(){var i;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,l.Z)(n);case 2:if(i=r.sent,!t){r.next=5;break}return r.abrupt("return");case 5:s(i[e]);case 6:case"end":return r.stop()}}),a)})));return function(){return i.apply(this,arguments)}}();return i(),function(){t=!0}}),[]),o}},14096:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return u},metadata:function(){return c},toc:function(){return p},default:function(){return d}});var r=t(87462),a=t(63366),i=(t(67294),t(3905)),l=(t(53565),t(1778)),o=(t(40641),["components"]),s={id:"changelog-v1.13.0-alpha.8",title:"v1.13.0-alpha.8"},u=void 0,c={unversionedId:"changelog/changelog-v1.13.0-alpha.8",id:"changelog/changelog-v1.13.0-alpha.8",title:"v1.13.0-alpha.8",description:"1. 发布情况",source:"@site/docs/changelog/changelog-v1.13.0-alpha.8.mdx",sourceDirName:"changelog",slug:"/changelog/changelog-v1.13.0-alpha.8",permalink:"/intellisense-form-website/docs/changelog/changelog-v1.13.0-alpha.8",tags:[],version:"current",frontMatter:{id:"changelog-v1.13.0-alpha.8",title:"v1.13.0-alpha.8"},sidebar:"someSidebar",previous:{title:"v1.13.0-beta.0",permalink:"/intellisense-form-website/docs/changelog/changelog-v1.13.0-beta.0"},next:{title:"v1.13.0-alpha.1",permalink:"/intellisense-form-website/docs/changelog/changelog-v1.13.0-alpha.1"}},p=[{value:"1. 发布情况",id:"1-发布情况",children:[],level:2},{value:"2. 平滑升级",id:"2-平滑升级",children:[],level:2},{value:"3. sinomatrix 依赖变更",id:"3-sinomatrix-依赖变更",children:[],level:2},{value:"4. 主要特性",id:"4-主要特性",children:[{value:"4.1 插件：简化表单值关联计算",id:"41-插件简化表单值关联计算",children:[{value:"新的表单值关联计算方式",id:"新的表单值关联计算方式",children:[],level:4}],level:3},{value:"4.2 添加字体服务",id:"42-添加字体服务",children:[{value:"下载并解压缩",id:"下载并解压缩",children:[],level:4},{value:"部署字体服务",id:"部署字体服务",children:[{value:"第一步：修改 nginx 配置",id:"第一步修改-nginx-配置",children:[],level:5},{value:"第二步：安装 nodejs",id:"第二步安装-nodejs",children:[],level:5},{value:"第二步：启动字体服务",id:"第二步启动字体服务",children:[],level:5}],level:4}],level:3}],level:2}],m={toc:p};function d(e){var n=e.components,t=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"1-发布情况"},"1. 发布情况"),(0,i.kt)("p",null,"发布日期：2021.12.15"),(0,i.kt)("p",null,"前端包：",(0,i.kt)("a",{parentName:"p",href:"http://sino-intellisense-form.oss-cn-beijing.aliyuncs.com/v1.13.0-alpha.8/sino-intellisense-form-v1.13.0-alpha.8.zip"},"sino-intellisense-form-v1.13.0-alpha.8.zip")),(0,i.kt)("p",null,"后端包：",(0,i.kt)("a",{parentName:"p",href:"http://sino-intellisense-form.oss-cn-beijing.aliyuncs.com/v1.13.0-alpha.8/intellisense-form-v1.13.0-alpha.8.jar"},"intellisense-form-v1.13.0-alpha.8.jar")),(0,i.kt)("p",null,"字体服务包：",(0,i.kt)("a",{parentName:"p",href:"http://sino-intellisense-form.oss-cn-beijing.aliyuncs.com/v1.13.0-alpha.7/dynamic-font-server-v1.13.0-alpha.7.zip"},"dynamic-font-server-v1.13.0-alpha.7.zip")),(0,i.kt)("h2",{id:"2-平滑升级"},"2. 平滑升级"),(0,i.kt)("p",null,"可以从任何版本平滑升级到 v1.13.0-alpha.8。"),(0,i.kt)("h2",{id:"3-sinomatrix-依赖变更"},"3. sinomatrix 依赖变更"),(0,i.kt)("p",null,"因 sinomatrix 缺陷影响了智能表单之前版本（v1.12.0 版本之前的版本）提供的功能，sinomatrix 已经修复，所以需要同步升级 sinomatrix 到 ",(0,i.kt)("a",{parentName:"p",href:"http://47.93.34.153:10080/sino-matrix/sino-matrix/blob/master/CHANGELOG.md"},"1.6.37")," 。（注意：访问此地址时可能会出现 ERR_UNSAFE_PORT 的情况，请参看",(0,i.kt)("a",{parentName:"p",href:"https://blog.csdn.net/kjcxmx/article/details/118122483"},"这篇帖子"),"配置一下浏览器。）"),(0,i.kt)("h2",{id:"4-主要特性"},"4. 主要特性"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"fix(form-designer): 修复在切换表单设计器与流程设计器后，会导致 formState 的初始值为 undefined 的缺陷")),(0,i.kt)("h3",{id:"41-插件简化表单值关联计算"},"4.1 插件：简化表单值关联计算"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"AppSetting")," 中新增 ",(0,i.kt)("inlineCode",{parentName:"p"},"listenFormChange")," 和 ",(0,i.kt)("inlineCode",{parentName:"p"},"listenFormChangeAsync"),"，简化表单值关联计算。"),(0,i.kt)("h4",{id:"新的表单值关联计算方式"},"新的表单值关联计算方式"),(0,i.kt)("p",null,"同步值关联："),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import AppSetting from '@sinoform/app-setting';\n\nAppSetting.listenFormChange(\n  '61adb754e37b48b43ee5fa36',\n  (prevValue, nextValue) => {\n    // 计算总价格\n    nextValue.total = nextValue.price nextValue.count;\n  },\n);\n")),(0,i.kt)("p",null,"异步值关联："),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},'import AppSetting from "@sinoform/app-setting";\n\nAppSetting.listenFormChange(\n  "61adb754e37b48b43ee5fa36",\n  async (prevValue, nextValue) => {\n    // 调用服务接口，计算总价格\n    nextValue.total = await calcTotalPriceFromRemoteServer(\n      nextValue.price,\n      nextValue.count\n    );\n  }\n);\n')),(0,i.kt)("h3",{id:"42-添加字体服务"},"4.2 添加字体服务"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"字体服务"),"主要是为了解决 IE 浏览器生成 pdf 过慢甚至可能导致生成失败的问题。字体服务需要单独部署。"),(0,i.kt)("h4",{id:"下载并解压缩"},"下载并解压缩"),(0,i.kt)("p",null,"使用下面的命令行下载并解压缩字体服务包："),(0,i.kt)(l.Z,{type:"font",mdxType:"DownloadBundleShell"}),(0,i.kt)("h4",{id:"部署字体服务"},"部署字体服务"),(0,i.kt)("h5",{id:"第一步修改-nginx-配置"},"第一步：修改 nginx 配置"),(0,i.kt)("p",null,"在 nginx 配置文件中添加关于字体服务的配置，具体内容如下："),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-nginx",metastring:'title="nginx.conf"',title:'"nginx.conf"'},"\n  # 配置字体服务\n  upstream dynamic_font_server {\n    server 127.0.0.1:8088;\n  }\n\n  #字体请求转交字体服务处理\n\n  location /apis/intellisense-form/dynamic-font {\n    proxy_set_header Host $host;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Host $http_host;\n    proxy_set_header X-Forwarded-Port $server_port;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_pass http://dynamic_font_server;\n  }\n")),(0,i.kt)("p",null,"调整完配置后，执行以下命令使 nginx 重新加载配置："),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nginx -s reload\n")),(0,i.kt)("h5",{id:"第二步安装-nodejs"},"第二步：安装 nodejs"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"nodejs"),"安装步骤可参考 ",(0,i.kt)("a",{parentName:"p",href:"/intellisense-form-website/docs/deployment-nodejs"},"nodejs 安装")),(0,i.kt)("h5",{id:"第二步启动字体服务"},"第二步：启动字体服务"),(0,i.kt)("p",null,"进入 ",(0,i.kt)("inlineCode",{parentName:"p"},"/apps/sino-intellisense-form/dynamic-font-server"),"文件夹，执行以下启动命令："),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ cd /apps/sino-intellinse-form/dynamic-font-server\n\n# 启动字体服务\n$ npm run server-start\n")),(0,i.kt)("p",null,"可以执行以下命令查看服务是否成功启动："),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"ps -ef | grep node\n")))}d.isMDXComponent=!0}}]);