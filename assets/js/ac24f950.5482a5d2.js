"use strict";(self.webpackChunkintellisense_form_docs=self.webpackChunkintellisense_form_docs||[]).push([[1158],{3905:function(t,e,r){r.d(e,{Zo:function(){return o},kt:function(){return c}});var a=r(67294);function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e){if(null==t)return{};var r,a,n=function(t,e){if(null==t)return{};var r,a,n={},l=Object.keys(t);for(a=0;a<l.length;a++)r=l[a],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var i=a.createContext({}),d=function(t){var e=a.useContext(i),r=e;return t&&(r="function"==typeof t?t(e):p(p({},e),t)),r},o=function(t){var e=d(t.components);return a.createElement(i.Provider,{value:e},t.children)},N={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},k=a.forwardRef((function(t,e){var r=t.components,n=t.mdxType,l=t.originalType,i=t.parentName,o=m(t,["components","mdxType","originalType","parentName"]),k=d(r),c=n,s=k["".concat(i,".").concat(c)]||k[c]||N[c]||l;return r?a.createElement(s,p(p({ref:e},o),{},{components:r})):a.createElement(s,p({ref:e},o))}));function c(t,e){var r=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var l=r.length,p=new Array(l);p[0]=k;var m={};for(var i in e)hasOwnProperty.call(e,i)&&(m[i]=e[i]);m.originalType=t,m.mdxType="string"==typeof t?t:n,p[1]=m;for(var d=2;d<l;d++)p[d]=r[d];return a.createElement.apply(null,p)}return a.createElement.apply(null,r)}k.displayName="MDXCreateElement"},71082:function(t,e,r){r.r(e),r.d(e,{frontMatter:function(){return m},contentTitle:function(){return i},metadata:function(){return d},toc:function(){return o},default:function(){return k}});var a=r(87462),n=r(63366),l=(r(67294),r(3905)),p=["components"],m={id:"sinofrom-sinomatrix-import-export",title:"智能表单配置数据整体迁移"},i=void 0,d={unversionedId:"sinofrom-sinomatrix-import-export",id:"sinofrom-sinomatrix-import-export",title:"智能表单配置数据整体迁移",description:"本文档详细描述了智能表单相关数据的整体迁移方案，总共包括以下 4 个部分：",source:"@site/docs/sinofrom-sinomatrix-import-export.md",sourceDirName:".",slug:"/sinofrom-sinomatrix-import-export",permalink:"/intellisense-form-website/docs/sinofrom-sinomatrix-import-export",tags:[],version:"current",frontMatter:{id:"sinofrom-sinomatrix-import-export",title:"智能表单配置数据整体迁移"},sidebar:"someSidebar",previous:{title:"文件存储定制",permalink:"/intellisense-form-website/docs/config-file-store"},next:{title:"业务数据导入",permalink:"/intellisense-form-website/docs/sinoform-import"}},o=[{value:"1. 智能表单 - 表单配置信息迁移",id:"1-智能表单---表单配置信息迁移",children:[{value:"1.1 导出",id:"11-导出",children:[],level:3},{value:"1.2 导入",id:"12-导入",children:[],level:3}],level:2},{value:"2. 智能表单 - 数据表表结构迁移",id:"2-智能表单---数据表表结构迁移",children:[{value:"2.1 导出",id:"21-导出",children:[],level:3},{value:"2.2 导入示例（mysql）",id:"22-导入示例mysql",children:[],level:3}],level:2},{value:"3. 工作流配置迁移",id:"3-工作流配置迁移",children:[{value:"3.1 导出表信息",id:"31-导出表信息",children:[],level:3},{value:"3.2 导出示例（mysql）",id:"32-导出示例mysql",children:[],level:3},{value:"3.3 导入示例（mysql）",id:"33-导入示例mysql",children:[],level:3}],level:2},{value:"4. 统一授权配置迁移",id:"4-统一授权配置迁移",children:[{value:"4.1 导出表信息",id:"41-导出表信息",children:[],level:3},{value:"4.2 导出示例 （mysql）",id:"42-导出示例-mysql",children:[],level:3},{value:"4.3 导入示例（mysql）",id:"43-导入示例mysql",children:[],level:3}],level:2}],N={toc:o};function k(t){var e=t.components,r=(0,n.Z)(t,p);return(0,l.kt)("wrapper",(0,a.Z)({},N,r,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"本文档详细描述了智能表单相关数据的整体迁移方案，总共包括以下 4 个部分："),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"智能表单的表单配置信息迁移"),(0,l.kt)("li",{parentName:"ul"},"智能表单的表单数据表的表结构迁移"),(0,l.kt)("li",{parentName:"ul"},"统一授权配置迁移"),(0,l.kt)("li",{parentName:"ul"},"工作流配置迁移")),(0,l.kt)("p",null,"有关本文档中涉及的表的具体含义及关联关系，可参考",(0,l.kt)("a",{parentName:"p",href:"https://sino-matrix.oss-cn-beijing.aliyuncs.com/handbook/%E7%BB%9F%E4%B8%80%E6%8E%88%E6%9D%83%E5%8F%8A%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%95%B0%E6%8D%AE%E5%85%B3%E7%B3%BB%E8%AF%B4%E6%98%8E.pdf"},"统一授权及工作流数据关系说明"),";"),(0,l.kt)("h2",{id:"1-智能表单---表单配置信息迁移"},"1. 智能表单 - 表单配置信息迁移"),(0,l.kt)("p",null,"智能表单的配置信息存放在 mongodb 中，本数据迁移方案使用到 mongodump 与 mongorestore 工具，若没有安装此工具请自行到",(0,l.kt)("a",{parentName:"p",href:"https://www.mongodb.com/try/download/database-tools"},"官网"),"根据自己的操作系统版本进行下载。"),(0,l.kt)("h3",{id:"11-导出"},"1.1 导出"),(0,l.kt)("p",null,"在需要导出数据的智能表单 ",(0,l.kt)("inlineCode",{parentName:"p"},"mongodb")," 所在服务器上使用 ",(0,l.kt)("inlineCode",{parentName:"p"},"mongodump")," 命令导出智能表单配置信息："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"$ cd mongodump工具目录\n$ ./mongodump --forceTableScan --db=form --excludeCollection=fs.chunks --excludeCollection=fs.files --excludeCollection=RemoteEventListener --excludeCollection=SequenceRecord --excludeCollection=SequenceStatusLog --excludeCollection=SequenceValue -o /root/sinoform-data\n")),(0,l.kt)("p",null,"以上命令中 ",(0,l.kt)("inlineCode",{parentName:"p"},"--db=from")," 表示导出的数据库为 form，若我们使用的数据库名不是 form 则根据实际情况进行更改。"),(0,l.kt)("p",null,"以上命令中 ",(0,l.kt)("inlineCode",{parentName:"p"},"-o /root/sinoform-data")," 指定了导出的数据存放位置为 ",(0,l.kt)("inlineCode",{parentName:"p"},"/root/sinoform-data"),"。"),(0,l.kt)("p",null,"执行以上命令导出成功后，会生成一个目录 ",(0,l.kt)("inlineCode",{parentName:"p"},"/root/sinoform-data/form"),"， 我们可以将该目录打包："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"$ cd /root/sinoform-data\n$ tar zcvf form.tar.gz form\n")),(0,l.kt)("h3",{id:"12-导入"},"1.2 导入"),(0,l.kt)("p",null,"将导出的 ",(0,l.kt)("inlineCode",{parentName:"p"},"form.tar.gz")," 上传至需要导入数据的 mongodb 所在服务器的 ",(0,l.kt)("inlineCode",{parentName:"p"},"/root/sinoform-data")," 目录中，执行以下命令进行导入："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"# 解压\n$ cd /root/sinoform-data\n$ tar zxvf form.tar.gz\n# 导入\n$ cd mongorestore工具目录\n$ ./mongorestore --db=form /root/sinoform-data/form\n")),(0,l.kt)("h2",{id:"2-智能表单---数据表表结构迁移"},"2. 智能表单 - 数据表表结构迁移"),(0,l.kt)("h3",{id:"21-导出"},"2.1 导出"),(0,l.kt)("p",null,"在浏览器地址框中输入智能表单数据表结构导出的接口 ",(0,l.kt)("inlineCode",{parentName:"p"},"http://智能表单ip:端口/apis/intellisense-form/formData/export-table")," ，访问该接口可得到一个 ",(0,l.kt)("inlineCode",{parentName:"p"},"sinoform_create_table.sql")," 文件，此文件即为当前智能表单使用的所有数据表表结构的建表语句。"),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"提示")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"使用以上导出接口需要将智能表单后端升级到 1.14.0 及以上版本。"))),(0,l.kt)("h3",{id:"22-导入示例mysql"},"2.2 导入示例（mysql）"),(0,l.kt)("p",null,"创建智能表单数据库、用户及授权："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'$ mysql -u root -p  # 输入密码登录root用户\n# 创建数据库 FORM\nmysql> CREATE DATABASE FORM DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;\n# 创建用户 form , 此处密码为 123456，根据需要进行修改\nmysql> CREATE USER "form"@"%" IDENTIFIED BY "123456";\n# 将数据库 FORM 的所有权限授权给 form 用户\nmysql> GRANT ALL PRIVILEGES ON `FORM`.* TO \'form\'@\'%\' WITH GRANT OPTION;\n# 退出\nmysql> exit;\n')),(0,l.kt)("p",null,"将导出的 ",(0,l.kt)("inlineCode",{parentName:"p"},"sinoform_create_table.sql")," 文件上传至需要导入数据的 mysql 所在服务器的 ",(0,l.kt)("inlineCode",{parentName:"p"},"/root/sinoform-data")," 目录："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"# mysql导入语法：\n#   mysql -u [执行导入的数据库用户名] -p [导入的数据库名] < [导入文件的路径]\n$ mysql -u form -p FORM < /root/sinoform-data/sinoform_create_table.sql\n")),(0,l.kt)("h2",{id:"3-工作流配置迁移"},"3. 工作流配置迁移"),(0,l.kt)("h3",{id:"31-导出表信息"},"3.1 导出表信息"),(0,l.kt)("p",null,"需要导出",(0,l.kt)("inlineCode",{parentName:"p"},"表结构"),"及",(0,l.kt)("inlineCode",{parentName:"p"},"数据"),"的表："),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"表名"),(0,l.kt)("th",{parentName:"tr",align:"center"},"描述"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_ACTION"),(0,l.kt)("td",{parentName:"tr",align:"center"},"动作配置表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_BOUND"),(0,l.kt)("td",{parentName:"tr",align:"center"},"涉及范围表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_BUTTON"),(0,l.kt)("td",{parentName:"tr",align:"center"},"按钮配置表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_BUTTON_RELATION"),(0,l.kt)("td",{parentName:"tr",align:"center"},"流程按钮关联表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_CONFIGITEM"),(0,l.kt)("td",{parentName:"tr",align:"center"},"权限标识表（手动维护）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_DECISION"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（暂时不用）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_DEFINE_ATTRIBUTE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"字段标识配置表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_DEFINE_BUSINESS"),(0,l.kt)("td",{parentName:"tr",align:"center"},"业务表配置")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_DEFINE_RELATION"),(0,l.kt)("td",{parentName:"tr",align:"center"},"流程关联业务表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_EVENT"),(0,l.kt)("td",{parentName:"tr",align:"center"},"事件配置表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_EVENT_ACTION"),(0,l.kt)("td",{parentName:"tr",align:"center"},"事件动作关联表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_EVENTACTION_PARA"),(0,l.kt)("td",{parentName:"tr",align:"center"},"动作参数配置表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_FILETYPE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"流程类型表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_FILETYPE_DEPT"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（暂时不用）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_FILETYPE_SCOPE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（暂时不用）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_FLOWTYPE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"流程类型流程关联表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_LIMIT"),(0,l.kt)("td",{parentName:"tr",align:"center"},"范围限制表（手动维护）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_NODEPURIEWROLE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"权限角色表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_NODEPURIEWELE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"权限内容表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_PAGECONTROL"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（暂时不用）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_PAGECONTROL_TYPE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（暂时不用）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_PROCESSVARIABLE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"流程变量表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_PURVIEW"),(0,l.kt)("td",{parentName:"tr",align:"center"},"管理员类型表（手动维护）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_RUNTIMEVARIABLE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"(运转时变量表)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SCENE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"场景表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SEARCH_RIGHT"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（暂时不用）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_STATUS_FLOWTYPE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（状态图流程类型表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_STATUS_SYS"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（状态图系统表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_STATUS_WFLEVE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（状态图节点表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_STATUS_WFOPERATE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（状态图路由表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_STATUS_WORKFLOW"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（状态图流程表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SUBIDEA"),(0,l.kt)("td",{parentName:"tr",align:"center"},"节点配置的意见类型表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SUBIDEA_TYPE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"意见类型配置表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SUBIDEA_RELATION"),(0,l.kt)("td",{parentName:"tr",align:"center"},"流程意见类型关联表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SUBSIGN"),(0,l.kt)("td",{parentName:"tr",align:"center"},"节点配置的签名类型表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SUBSIGN_TYPE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"签名类型配置表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SUBSIGN_RELATION"),(0,l.kt)("td",{parentName:"tr",align:"center"},"流程签名类型关联表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SYS"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（系统表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SYS_CONFIG"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（系统配置表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_TARGET"),(0,l.kt)("td",{parentName:"tr",align:"center"},"涉及对象表（手动维护）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_TARGET_BOUND"),(0,l.kt)("td",{parentName:"tr",align:"center"},"范围限制对应表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_USERPURVIEWRELATION"),(0,l.kt)("td",{parentName:"tr",align:"center"},"权限表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WAITURLURL"),(0,l.kt)("td",{parentName:"tr",align:"center"},"配置表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WFLEVE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"节点表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WFOPERATE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"路由表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WORKFLOW"),(0,l.kt)("td",{parentName:"tr",align:"center"},"流程表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOWMANAGER_FLOWTYPE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"分类表")))),(0,l.kt)("p",null,"仅需导出",(0,l.kt)("inlineCode",{parentName:"p"},"表结构"),"的表："),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"表名"),(0,l.kt)("th",{parentName:"tr",align:"center"},"描述"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_IDEA"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（正式意见表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_IDEASIGN_TEMP"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（临时意见表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_READ"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（已办表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_RACC_READ"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（被授权人办理已办表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SCCREDIT"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（待办授权表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SCCREDIT_BACKUP"),(0,l.kt)("td",{parentName:"tr",align:"center"})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SCCREDIT_SORT"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（待办授权分类表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SIGN"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（签名表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_SIGN_IN"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（签收表）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WFLOG"),(0,l.kt)("td",{parentName:"tr",align:"center"},"日志表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WORKFLOWINFO"),(0,l.kt)("td",{parentName:"tr",align:"center"},"实例表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WRITE_ACTION"),(0,l.kt)("td",{parentName:"tr",align:"center"})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WORKFLOWINFO_BACKUP"),(0,l.kt)("td",{parentName:"tr",align:"center"},"实例备份表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WORKFLOWINFO_OVERTIEM"),(0,l.kt)("td",{parentName:"tr",align:"center"})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WORKFLOWINFO_SNAP"),(0,l.kt)("td",{parentName:"tr",align:"center"},"实例快照表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WRITE"),(0,l.kt)("td",{parentName:"tr",align:"center"},"待办表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WRITE_BACKUP"),(0,l.kt)("td",{parentName:"tr",align:"center"},"待办备份表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"FLOW_WRITE_OVERTIME"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（待办过期提醒表原则上工作流不维护）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"TBL_BUSINESSLOCK"),(0,l.kt)("td",{parentName:"tr",align:"center"},"（加锁表）")))),(0,l.kt)("h3",{id:"32-导出示例mysql"},"3.2 导出示例（mysql）"),(0,l.kt)("p",null,"登录 mysql 数据库所在服务器，执行以下命令导出数据："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"# 导出工作流配置的表结构及配置数据\n$ mysqldump -u root -p EPCLOUD --ignore-table=EPCLOUD.FLOW_IDEA --ignore-table=EPCLOUD.FLOW_IDEASIGN_TEMP --ignore-table=EPCLOUD.FLOW_READ --ignore-table=EPCLOUD.FLOW_RACC_READ --ignore-table=EPCLOUD.FLOW_SCCREDIT --ignore-table=EPCLOUD.FLOW_SCCREDIT_BACKUP --ignore-table=EPCLOUD.FLOW_SCCREDIT_SORT --ignore-table=EPCLOUD.FLOW_SIGN --ignore-table=EPCLOUD.FLOW_SIGN_IN --ignore-table=EPCLOUD.FLOW_WFLOG --ignore-table=EPCLOUD.FLOW_WORKFLOWINFO --ignore-table=EPCLOUD.FLOW_WRITE_ACTION --ignore-table=EPCLOUD.FLOW_WORKFLOWINFO_BACKUP --ignore-table=EPCLOUD.FLOW_WORKFLOWINFO_OVERTIME --ignore-table=EPCLOUD.FLOW_WORKFLOWINFO_SNAP --ignore-table=EPCLOUD.FLOW_WRITE --ignore-table=EPCLOUD.FLOW_WRITE_BACKUP --ignore-table=EPCLOUD.FLOW_WRITE_OVERTIME --ignore-table=EPCLOUD.TBL_BUSINESSLOCK > flow_config.sql\n# 导出记录表（仅导出表结构）\n$ mysqldump -d EPCLOUD --tables FLOW_IDEA  FLOW_IDEASIGN_TEMP FLOW_READ FLOW_RACC_READ FLOW_SCCREDIT FLOW_SCCREDIT_BACKUP FLOW_SCCREDIT_SORT FLOW_SIGN FLOW_SIGN_IN FLOW_WFLOG FLOW_WORKFLOWINFO FLOW_WRITE_ACTION FLOW_WORKFLOWINFO_BACKUP FLOW_WORKFLOWINFO_OVERTIME FLOW_WORKFLOWINFO_SNAP FLOW_WRITE FLOW_WRITE_BACKUP FLOW_WRITE_OVERTIME TBL_BUSINESSLOCK > flow_data.sql\n")),(0,l.kt)("h3",{id:"33-导入示例mysql"},"3.3 导入示例（mysql）"),(0,l.kt)("p",null,"创建工作流数据库、用户及授权："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'$ mysql -u root -p  # 输入密码登录root用户\n# 创建数据库 EPCLOUD\nmysql> CREATE DATABASE EPCLOUD DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;\n# 创建用户 epcloud , 此处密码为 123456，根据需要进行修改\nmysql> CREATE USER "epcloud"@"%" IDENTIFIED BY "123456";\n# 将数据库 EPCLOUD 的所有权限授权给 epcloud 用户\nmysql> GRANT ALL PRIVILEGES ON `EPCLOUD`.* TO \'epcloud\'@\'%\' WITH GRANT OPTION;\n# 退出\nmysql> exit;\n')),(0,l.kt)("p",null,"将示例中导出的 ",(0,l.kt)("inlineCode",{parentName:"p"},"flow_config.sql")," 和 ",(0,l.kt)("inlineCode",{parentName:"p"},"flow_data.sql")," 文件上传至需要导入数据的 mysql 所在服务器的 ",(0,l.kt)("inlineCode",{parentName:"p"},"/root/sinoform-data")," 目录，执行以下命令导入："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"$ mysql -u epcloud -p EPCLOUD < /root/sinoform-data/flow_data.sql\n$ mysql -u epcloud -p EPCLOUD < /root/sinoform-data/flow_config.sql\n")),(0,l.kt)("h2",{id:"4-统一授权配置迁移"},"4. 统一授权配置迁移"),(0,l.kt)("h3",{id:"41-导出表信息"},"4.1 导出表信息"),(0,l.kt)("p",null,"需要导出",(0,l.kt)("inlineCode",{parentName:"p"},"表结构"),"及",(0,l.kt)("inlineCode",{parentName:"p"},"数据"),"的表："),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"表名"),(0,l.kt)("th",{parentName:"tr",align:"center"},"描述"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"audit_type"),(0,l.kt)("td",{parentName:"tr",align:"center"},"授权类型的字典表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"dbsource_metadata"),(0,l.kt)("td",{parentName:"tr",align:"center"},"数据源配置表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sylg_map"),(0,l.kt)("td",{parentName:"tr",align:"center"},"数据字段定义表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sylg_tabl"),(0,l.kt)("td",{parentName:"tr",align:"center"},"需审计的表信息表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sylg_tabltype"),(0,l.kt)("td",{parentName:"tr",align:"center"},"表信息分类表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_ad_type"),(0,l.kt)("td",{parentName:"tr",align:"center"},"授权类型表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_audit_user"),(0,l.kt)("td",{parentName:"tr",align:"center"},"审计模块授权到人表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_authorized_audit"),(0,l.kt)("td",{parentName:"tr",align:"center"},"待审核表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_config_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"统一配置表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_ctrl_record"),(0,l.kt)("td",{parentName:"tr",align:"center"},"系统角色与资源关系配置表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_custom_usdr_data"),(0,l.kt)("td",{parentName:"tr",align:"center"},"数据级权限")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_dept_field"),(0,l.kt)("td",{parentName:"tr",align:"center"},"部门属性扩展表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_dept_sub_p"),(0,l.kt)("td",{parentName:"tr",align:"center"},"系统授权打包部门关联表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_dictionary"),(0,l.kt)("td",{parentName:"tr",align:"center"},"字典表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_dptm_lvel"),(0,l.kt)("td",{parentName:"tr",align:"center"},"部门级别表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_element_con"),(0,l.kt)("td",{parentName:"tr",align:"center"},"资源元素表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_field_config"),(0,l.kt)("td",{parentName:"tr",align:"center"},"部门用户基础扩展字段表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_flow_dept"),(0,l.kt)("td",{parentName:"tr",align:"center"},"部门信息表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_flow_dept_ext"),(0,l.kt)("td",{parentName:"tr",align:"center"},"部门扩展信息表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_flow_role"),(0,l.kt)("td",{parentName:"tr",align:"center"},"业务角色表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_flow_user"),(0,l.kt)("td",{parentName:"tr",align:"center"},"用户信息表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_flow_user_ext"),(0,l.kt)("td",{parentName:"tr",align:"center"},"用户信息扩展表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_frole_sub_p"),(0,l.kt)("td",{parentName:"tr",align:"center"},"系统授权打包业务角色关联表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_group_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"群组信息表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_group_sub_p"),(0,l.kt)("td",{parentName:"tr",align:"center"},"系统授权打包群组关联表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_grup_key"),(0,l.kt)("td",{parentName:"tr",align:"center"},"群组类别管理表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_package"),(0,l.kt)("td",{parentName:"tr",align:"center"},"授权打包表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_process_audit"),(0,l.kt)("td",{parentName:"tr",align:"center"},"流程式审批表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_relement_re"),(0,l.kt)("td",{parentName:"tr",align:"center"},"公共资源元素表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_resource"),(0,l.kt)("td",{parentName:"tr",align:"center"},"资源配置表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_rlsy_dprb"),(0,l.kt)("td",{parentName:"tr",align:"center"},"系统角色授权部门业务表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_rlsy_grup"),(0,l.kt)("td",{parentName:"tr",align:"center"},"系统角色授权部门群组表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_rlsy_user"),(0,l.kt)("td",{parentName:"tr",align:"center"},"用户与系统角色关联表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_robject_ext"),(0,l.kt)("td",{parentName:"tr",align:"center"},"资源扩展信息表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_role_sub_p"),(0,l.kt)("td",{parentName:"tr",align:"center"},"系统授权打包系统角色关联表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_role_syst"),(0,l.kt)("td",{parentName:"tr",align:"center"},"系统角色表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_rtype_sub"),(0,l.kt)("td",{parentName:"tr",align:"center"},"资源类型与系统关系表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_sub_account"),(0,l.kt)("td",{parentName:"tr",align:"center"},"子系统用户管理表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_sub_manager"),(0,l.kt)("td",{parentName:"tr",align:"center"},"子系统管理员表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_sub_rd_info"),(0,l.kt)("td",{parentName:"tr",align:"center"},"子系统信息表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_sub_rd_type"),(0,l.kt)("td",{parentName:"tr",align:"center"},"系统类型表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_sub_user"),(0,l.kt)("td",{parentName:"tr",align:"center"},"系统授权到人表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_user_dprb"),(0,l.kt)("td",{parentName:"tr",align:"center"},"部门用户关联表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_user_field"),(0,l.kt)("td",{parentName:"tr",align:"center"})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_user_frole"),(0,l.kt)("td",{parentName:"tr",align:"center"})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_user_grup"),(0,l.kt)("td",{parentName:"tr",align:"center"})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"user_info_bind"),(0,l.kt)("td",{parentName:"tr",align:"center"})))),(0,l.kt)("p",null,"仅需导出",(0,l.kt)("inlineCode",{parentName:"p"},"表结构"),"的表："),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"表名"),(0,l.kt)("th",{parentName:"tr",align:"center"},"描述"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"auditlog"),(0,l.kt)("td",{parentName:"tr",align:"center"},"审计日志表（已废除）")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"ca_bind_history"),(0,l.kt)("td",{parentName:"tr",align:"center"},"CA 绑定历史表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"init_dept_user_data"),(0,l.kt)("td",{parentName:"tr",align:"center"},"导入数据记录表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"message"),(0,l.kt)("td",{parentName:"tr",align:"center"},"系统消息表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sylg_event"),(0,l.kt)("td",{parentName:"tr",align:"center"},"审计事件表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sylg_result"),(0,l.kt)("td",{parentName:"tr",align:"center"},"日志信息查询表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sylg_temp"),(0,l.kt)("td",{parentName:"tr",align:"center"},"需清洗的日志表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_audit_log"),(0,l.kt)("td",{parentName:"tr",align:"center"},"请求记录日志表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_flow_user_temp"),(0,l.kt)("td",{parentName:"tr",align:"center"},"用户信息临时表")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"sys_flow_user_temp_ext"),(0,l.kt)("td",{parentName:"tr",align:"center"},"用户扩展信息临时表")))),(0,l.kt)("h3",{id:"42-导出示例-mysql"},"4.2 导出示例 （mysql）"),(0,l.kt)("p",null,"登录 mysql 数据库所在服务器，执行以下命令导出数据："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"# 导出统一授权配置的表结构及配置数据\n$ mysqldump -u root -p SINOEPUIAS --ignore-table=SINOEPUIAS.AUDITLOG --ignore-table=SINOEPUIAS.CA_BIND_HISTORY --ignore-table=SINOEPUIAS.INIT_DEPT_USER_DATA --ignore-table=SINOEPUIAS.MESSAGE --ignore-table=SINOEPUIAS.SYLG_EVENT --ignore-table=SINOEPUIAS.SYLG_RESULT --ignore-table=SINOEPUIAS.SYLG_TEMP --ignore-table=SINOEPUIAS.SYS_AUDIT_LOG --ignore-table=SINOEPUIAS.SYS_FLOW_USER_TEMP --ignore-table=SINOEPUIAS.SYS_FLOW_USER_TEMP_EXT > uias_config.sql\n\n# 导出记录表（仅导出表结构）\n$ mysqldump -d SINOEPUIAS --tables AUDITLOG CA_BIND_HISTORY INIT_DEPT_USER_DATA MESSAGE SYLG_EVENT SYLG_RESULT SYLG_TEMP SYS_AUDIT_LOG SYS_FLOW_USER_TEMP SYS_FLOW_USER_TEMP_EXT > uias_data.sql\n")),(0,l.kt)("h3",{id:"43-导入示例mysql"},"4.3 导入示例（mysql）"),(0,l.kt)("p",null,"创建统一授权数据库、用户及授权："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'$ mysql -u root -p  # 输入密码登录root用户\n# 创建数据库 SINOEPUIAS\nmysql> CREATE DATABASE SINOEPUIAS DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;\n# 创建用户 sinoepuias , 此处密码为 123456，根据需要进行修改\nmysql> CREATE USER "sinoepuias"@"%" IDENTIFIED BY "123456";\n# 将数据库 SINOEPUIAS 的所有权限授权给 sinoepuias 用户\nmysql> GRANT ALL PRIVILEGES ON `SINOEPUIAS`.* TO \'sinoepuias\'@\'%\' WITH GRANT OPTION;\n# 退出\nmysql> exit;\n')),(0,l.kt)("p",null,"将导出的 ",(0,l.kt)("inlineCode",{parentName:"p"},"uias_config.sql")," 和 ",(0,l.kt)("inlineCode",{parentName:"p"},"uias_data.sql")," 文件上传至需要导入数据的 mysql 所在服务器的 ",(0,l.kt)("inlineCode",{parentName:"p"},"/root/sinoform-data")," 目录，执行以下命令导入："),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"$ mysql -u sinoepuias -p SINOEPUIAS < /root/sinoform-data/uias_config.sql\n$ mysql -u sinoepuias -p SINOEPUIAS < /root/sinoform-data/uias_data.sql\n")))}k.isMDXComponent=!0}}]);