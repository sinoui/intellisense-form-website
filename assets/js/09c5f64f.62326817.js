"use strict";(self.webpackChunkintellisense_form_docs=self.webpackChunkintellisense_form_docs||[]).push([[3939],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return s}});var a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var p=a.createContext({}),d=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=d(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),c=d(n),s=l,k=c["".concat(p,".").concat(s)]||c[s]||u[s]||r;return n?a.createElement(k,i(i({ref:t},m),{},{components:n})):a.createElement(k,i({ref:t},m))}));function s(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var d=2;d<r;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},82660:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(67294),l=function(e){var t=e.version,n=e.type,l="font"===n?"dynamic-font-server-v"+t+".zip":"sino-intellisense-form-v"+t+"."+("backend"===n?"jar":"zip"),r="http://sino-intellisense-form.oss-cn-beijing.aliyuncs.com/v"+t+"/"+l;return a.createElement("a",{href:r},l)},r=function(e){var t=e.font,n=e.frontend,r=e.backend,i=e.version;return a.createElement("table",null,a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"发布包名称"),a.createElement("th",null,"下载链接"))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,"前端包",i===n?"（新版本）":""),a.createElement("td",null,a.createElement(l,{type:"frontend",version:n}))),a.createElement("tr",null,a.createElement("td",null,"后端包",i===r?"（新版本）":""),a.createElement("td",null,a.createElement(l,{type:"backend",version:r}))),t&&a.createElement("tr",null,a.createElement("td",null,"字体服务",i===t?"（新版本）":""),a.createElement("td",null,a.createElement(l,{type:"font",version:t})))))}},20544:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return p},contentTitle:function(){return d},metadata:function(){return m},toc:function(){return u},default:function(){return s}});var a=n(87462),l=n(63366),r=(n(67294),n(3905)),i=n(82660),o=["components"],p={id:"changelog-v1.13.3",title:"v1.13.3"},d=void 0,m={unversionedId:"changelog/changelog-v1.13.3",id:"changelog/changelog-v1.13.3",title:"v1.13.3",description:"1. 发布情况",source:"@site/docs/changelog/changelog-v1.13.3.mdx",sourceDirName:"changelog",slug:"/changelog/changelog-v1.13.3",permalink:"/intellisense-form-website/docs/changelog/changelog-v1.13.3",tags:[],version:"current",frontMatter:{id:"changelog-v1.13.3",title:"v1.13.3"},sidebar:"someSidebar",previous:{title:"v1.13.4",permalink:"/intellisense-form-website/docs/changelog/changelog-v1.13.4"},next:{title:"v1.13.2",permalink:"/intellisense-form-website/docs/changelog/changelog-v1.13.2"}},u=[{value:"1. 发布情况",id:"1-发布情况",children:[],level:2},{value:"2. 平滑升级",id:"2-平滑升级",children:[],level:2},{value:"3. sinomatrix 依赖变更",id:"3-sinomatrix-依赖变更",children:[],level:2},{value:"4. 主要特性",id:"4-主要特性",children:[{value:"流程控制公式支持【填报人角色】作为控制条件",id:"流程控制公式支持填报人角色作为控制条件",children:[],level:3},{value:"流程控制公式新增语法",id:"流程控制公式新增语法",children:[{value:"<code>is</code> - 严格相等性比较",id:"is---严格相等性比较",children:[],level:4},{value:"<code>is not</code> - 严格不相等比较",id:"is-not---严格不相等比较",children:[],level:4},{value:"<code>is null</code> - 判空比较",id:"is-null---判空比较",children:[],level:4},{value:"<code>is empty</code> - 判断是否为空字符串或者空数组",id:"is-empty---判断是否为空字符串或者空数组",children:[],level:4}],level:3}],level:2}],c={toc:u};function s(e){var t=e.components,p=(0,l.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},c,p,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"1-发布情况"},"1. 发布情况"),(0,r.kt)("p",null,"发布日期：2022.1.14"),(0,r.kt)(i.Z,{version:"1.13.3",frontend:"1.13.3",backend:"1.13.3",font:"1.13.0",mdxType:"BundleList"}),(0,r.kt)("h2",{id:"2-平滑升级"},"2. 平滑升级"),(0,r.kt)("p",null,"可以从任何版本平滑升级到 v1.13.3。"),(0,r.kt)("h2",{id:"3-sinomatrix-依赖变更"},"3. sinomatrix 依赖变更"),(0,r.kt)("p",null,"因 sinomatrix 缺陷影响了智能表单之前版本（v1.12.0 版本之前的版本）提供的功能，sinomatrix 已经修复，所以需要同步升级 sinomatrix 到 ",(0,r.kt)("a",{parentName:"p",href:"http://47.93.34.153:10080/sino-matrix/sino-matrix/blob/master/CHANGELOG.md"},"1.6.37")," 。（注意：访问此地址时可能会出现 ERR_UNSAFE_PORT 的情况，请参看",(0,r.kt)("a",{parentName:"p",href:"https://blog.csdn.net/kjcxmx/article/details/118122483"},"这篇帖子"),"配置一下浏览器。）"),(0,r.kt)("h2",{id:"4-主要特性"},"4. 主要特性"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"fix：修复第二套主题流转记录显示不准确的缺陷"),(0,r.kt)("li",{parentName:"ul"},"feat：添加单表单或单应用首页标题控制参数(title)。具体使用方式可参考",(0,r.kt)("a",{parentName:"li",href:"../custom-form-app#%E5%AE%9A%E5%88%B6%E5%BA%94%E7%94%A8%E6%A0%87%E9%A2%98"},"使用单应用页面 | 定制应用标题")),(0,r.kt)("li",{parentName:"ul"},"improve：移动端草稿页、详情页标题随应用名称变化"),(0,r.kt)("li",{parentName:"ul"},"improve(移动端)：添加请求参数 ",(0,r.kt)("inlineCode",{parentName:"li"},"hideAppBar"),"，用于控制不显示草稿页、详情页上的工具栏。如：",(0,r.kt)("inlineCode",{parentName:"li"},"http://127.0.0.1:8080/detail-page?hideAppBar")),(0,r.kt)("li",{parentName:"ul"},"improve(移动端)：添加请求参数",(0,r.kt)("inlineCode",{parentName:"li"},"title"),"，用于定制详情页和草稿页的页面标题。如：",(0,r.kt)("inlineCode",{parentName:"li"},"http://127.0.0.1:8080/detail-page?title=应用标题")),(0,r.kt)("li",{parentName:"ul"},"feat： 流程控制公式支持填报人角色作为控制条件。"),(0,r.kt)("li",{parentName:"ul"},"improve(flow-control-expression): 新增 ",(0,r.kt)("inlineCode",{parentName:"li"},"is"),"、",(0,r.kt)("inlineCode",{parentName:"li"},"is null"),"、",(0,r.kt)("inlineCode",{parentName:"li"},"is not null"),"、",(0,r.kt)("inlineCode",{parentName:"li"},"is empty")," 和 ",(0,r.kt)("inlineCode",{parentName:"li"},"is not empty")," 语法支持，改善 null 或者空字符串、空数组的判定。（见",(0,r.kt)("a",{parentName:"li",href:"#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%85%AC%E5%BC%8F%E6%96%B0%E5%A2%9E%E8%AF%AD%E6%B3%95"},"流程控制公式新增语法"),"）"),(0,r.kt)("li",{parentName:"ul"},"fix(workflow): 修复工作流撤办、恢复流程、退回操作没有同步待办已办的缺陷"),(0,r.kt)("li",{parentName:"ul"},"fix(config): 修复导入应用后，应用菜单不可见的缺陷")),(0,r.kt)("h3",{id:"流程控制公式支持填报人角色作为控制条件"},"流程控制公式支持【填报人角色】作为控制条件"),(0,r.kt)("p",null,"使用场景：一个流程，可由",(0,r.kt)("inlineCode",{parentName:"p"},"处员"),"或",(0,r.kt)("inlineCode",{parentName:"p"},"处长"),"发起，",(0,r.kt)("inlineCode",{parentName:"p"},"处员"),"发起需由处长审批，",(0,r.kt)("inlineCode",{parentName:"p"},"处长"),"发起直接由",(0,r.kt)("inlineCode",{parentName:"p"},"司长"),"审批，我们可以通过流程控制公式处理此需求。"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"填报人角色作为控制条件",src:n(52682).Z})),(0,r.kt)("p",null,"首先我们在开始节点到处长审批节点的路由上添加流程控制公式："),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'填报人角色 not in ["处长"]\n')),(0,r.kt)("p",null,"然后在开始节点到司长审批节点的路由上添加以下流程公式："),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'填报人角色 in ["处长"]\n')),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"如果此流程已经有正在流转的历史数据，为了避免由于表单数据中没有填报人角色数据导致流程无法正常流转，我们需要加一下预防措施，比如判空处理，具体方式如下："),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},'填报人角色 in ["处长"] or\n填报人角色 is null\n')))),(0,r.kt)("h3",{id:"流程控制公式新增语法"},"流程控制公式新增语法"),(0,r.kt)("h4",{id:"is---严格相等性比较"},(0,r.kt)("inlineCode",{parentName:"h4"},"is")," - 严格相等性比较"),(0,r.kt)("p",null,"一般情况下，我们使用 ",(0,r.kt)("inlineCode",{parentName:"p"},"==")," 做相等性比较，如："),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"1 == 1 // true\n'1' == 1 // true\n")),(0,r.kt)("p",null,"但是如果做严格相等性比较，则使用 ",(0,r.kt)("inlineCode",{parentName:"p"},"is"),"，如："),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"1 is 1 // true\n'1' is 1 // false\n")),(0,r.kt)("h4",{id:"is-not---严格不相等比较"},(0,r.kt)("inlineCode",{parentName:"h4"},"is not")," - 严格不相等比较"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"not")," 可以与任何操作符组合使用，同样可以与 ",(0,r.kt)("inlineCode",{parentName:"p"},"is")," 操作符组合使用，如下所示："),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"'1' not is 1\n")),(0,r.kt)("p",null,"但是上面的公式不够自然，所以同时支持以下更自然的写法："),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"'1' is not 1\n")),(0,r.kt)("h4",{id:"is-null---判空比较"},(0,r.kt)("inlineCode",{parentName:"h4"},"is null")," - 判空比较"),(0,r.kt)("p",null,"如果要判断值是否为 ",(0,r.kt)("inlineCode",{parentName:"p"},"null")," 或者 ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"，推荐使用 ",(0,r.kt)("inlineCode",{parentName:"p"},"is null"),"："),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"公式"),(0,r.kt)("th",{parentName:"tr",align:null},"返回值"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"null is null")),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"undefined is null")),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'' is null")),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[] is null")),(0,r.kt)("td",{parentName:"tr",align:null},"false")))),(0,r.kt)("p",null,"同时支持 ",(0,r.kt)("inlineCode",{parentName:"p"},"is not null")," 语法。"),(0,r.kt)("h4",{id:"is-empty---判断是否为空字符串或者空数组"},(0,r.kt)("inlineCode",{parentName:"h4"},"is empty")," - 判断是否为空字符串或者空数组"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"公式"),(0,r.kt)("th",{parentName:"tr",align:null},"返回值"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"null is empty")),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"undefined is empty")),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'' is empty")),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"' ' is empty")),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'张三' is empty")),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[] is empty")),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[1, 2, 3] is empty")),(0,r.kt)("td",{parentName:"tr",align:null},"false")))))}s.isMDXComponent=!0},52682:function(e,t,n){t.Z=n.p+"assets/images/changelog-1.12.11-3de2449bfa6225678035b4c798e1d208.png"}}]);